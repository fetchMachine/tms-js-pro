## Страница со всеми товарами
0. установить для работы сервера функцию orderBy лодаша: ```npm i lodash.orderby```
1. Создать компонент GoodsPage
2. Выводить его по урлу "/goods"
3. Добавить ссылку на эту страницу в меню или хедер
4. Добавить на страницу GoodsPage таблицу с товарами:
    + Получаем товары с бека с помощью redux-thunk из ручки "/goods" и кладем в редакс
    + Таблица должна иметь пагинацию и опцию выбора кол-ва отображаемых за раз строк (используем для этого квери параметры limit (по умолчанию на беке лимит равен 20) и offset)
    + На странице должны присутствовать фильтры:
        - Текстовый поиск (квери параметр text)
        - Мультиселект выбора категорий (квери параметр categoryTypeIds)
        - Слайдер выбора мин и макс цены от 0 до 1000  (квери параметры  minPrice и maxPrice)
        - При изменении любого фильтра сбрасываем пагинацию на первую страницу
        - При изменении фильтра запрос делать на бек с дебаунс задержкой 1,5с
    + При клике на строку с товаром делаем переход на страницу товара
    + Если фильтр пользователем не установлен - на бек соответствующий квери параметр не шлем
    + Колонку цены и названия можно сортировать (квери параметры sortBy=ПОЛЕ_ПО_КОТОРОМУ_ХОТИМ_СОРТИРОВАТЬ и sortDirection=ASC_ИЛИ_DESC для указания направления по возрастанию или убыванию (по умолчанию бек сортирует по возрастанию), например /goods?sortBy=price&sortDirection=asc).
    + На время загрузки (обновления) данных с бека в таблице показывается лоадер

## Страница логина
1. Создать компонент LoginPage
2. Выводить его по урлу "/login"
3. Добавить в компонент 2 инпута (логин и пароль) и 2 кнопки (войти и зарегистрироваться)
4. Кнопка зарегистрироваться должна вести на страницу "/registration"
5. По нажатию на кнопку войти:
    5.1. Валидация полей - если поле не заполненно показываем под ним сообщение с ошибкой "обязательное поле"
    5.2. Eсли введена парада admin / admin, то показывает успешный Notification (компонент antd) с сообщением "Успешный вход"
    5.3. Иначе под кнопками показываем сообщение об ошибке "неверный пароль или логин"
    5.4. Как только начинает печатать в любом инпуте должна убираться ошибка соответствующего инпута и ошибка под кнопками

## Страница Регистрации
1. Делаем страницу RegistrationPage
2. Отображаем ее по роуту "/registration"
3. На странице должны быть поля для заполнения и кнопки "Зарегистрироваться" и "Отмена"
4. Кнопка "Отмена" возвращает на главную страницу
5. Кнопка "Зарегистрироваться" еще раз валидирует все поля и если они валидны - показывает успешный тост "Успешная регистрация" и делает редирект на главную страницу, иначе показывает ошибочный тост "Проверьте корректность заполнения формы"

Для валидации можно использовать библиотеку [yup](https://github.com/jquense/yup). Там много готовых правил валидации и простое в использхование api.

Должны быть следующие поля для заполнения:

| Поле                           | Тип                | Обязательное | Доп правила валидации |
| ------------------------------ | ------------------ | --- | ------------------------------ |
| Имя                            | Текстовы инпут     | Да  | содержит 2+ символа |
| Фамилия                        | Текстовы инпут     | Нет | содержит 2+ символа |
| Почта (будет у нас логином)    | Текстовы инпут     | Да  | либо проверка на наличие "@" и минимум по 2 символа с каждой стороны от него, либо у yup есть валидация на email |
| Пароль / Повторите Пароль      | 2 текстовых инпута | Да  | Оба поля совпадают, не менее 6 символов |
| Пол                            | Радои кнопки       | Нет | - |
| Любимые категории              | Чекбоксы           | Да  | Выбрано минимум 2 категории. Список для чекбоксов брать из "/categories") |
| Выбор подписка на новости      | Свитчер (да / нет) | Да  | - |
| Дата рождения                  | Календарь          | Да  | Не раньше 1 янв 1930 года |
| Секр. вопрос для восст. пароля | 2 инпута (тип вопроса и ответ) | Нет | Если выбран тип - то ответ обязателен, иначе инпут с ответом не показываем |



## Логика поиска для инпута
1. Делаем дропдаун с поиском. При вводе значения с дебаунсом 1,5с идем на бекенд за товарами, используя для поиска квери параметр text
2. Показываем в дропдауне список из названий товаров, что отдал бек. При клике по товару - переходим на страницу товара.
3. Если ничего не нашлось, то показываем в дропдауне сообщение "Ничего не найдено, попробуйте изменить запрос"

## Тесты
TBD

## Авторизационные токены
0. Уставить jsonwebtoken и обновить файл сервера
1. Создать отдельный слайс в редаксе, который будет хранить информацию о юзере (логин / токен / флаг isAuth - по умолчанию false).
2. Форма регистрации в случае валидного заполнения должна делать запрос POST /registration передавая значения формы и в случае успеха (помимо успешного тоста) должна делать редирет на страницу логина. В теле запроса передаем ```{ name, surname, email, password, gender, interests, isSubscribe, secret: { type, answer }, bornAt }```. Если какое-то поле не обязательно и юзер его не заполнил, то на бек его не шлем.
3. Страница логина должна делать запрос POST /login передавая в теле ```{ login, password }```. В случае успеха с бека вернется информация о юзере, которую нужно положить в редакс и localStorage (класть и в стору и в localStorage можно в одной и той же санке). А также установить флаг isAuth=true.
4. При загрузке приложения считываем localStorage в поиске информации о юзере и, если нашли - кладем в редакс.
5. Если юзер не вошел (isAuth=false), то для него доступны ссылки и страницы "Войти" и "Регистрация", корзина не доступна.
6. Если юзер вошел (isAuth=true), то для него доступна корзина, доступна кнопка Выйти. И не доступны ссылки и страницы "Войти" и "Регистрация".
7. Кнопка выйти очищает данные о юзере и сторы и localstorage и устанавливает флаг isAuth=false.
8. Работа с корзиной теперь доступна лишь для зарегистрированных пользователей, соответственно все запросы надо подписывать токеном.
9. Для удобства работы с токенами желательно применить паттерн синглтон для нашего класса Api [пример на js](./misc/singleton.js) / [пример на ts](./misc/singleton.js)

## Административная страница добавления / редактирования / удаления товаров
TBD

### Info
asc - ascending - по возрастанию
desc - descending - по убыванию

```javascript
// fetch с подписанным токеном
fetch('/api/cart', headers: { Authorization: `Bearer ${ВАШ_ТОКЕН}` });
```
